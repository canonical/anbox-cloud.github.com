<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>anbox-platform-sdk: anbox::GraphicsProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">anbox-platform-sdk
   &#160;<span id="projectnumber">1.26.0</span>
   </div>
   <div id="projectbrief">Anbox Platform SDK API documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classanbox_1_1GraphicsProcessor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classanbox_1_1GraphicsProcessor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">anbox::GraphicsProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classanbox_1_1GraphicsProcessor.html" title="GraphicsProcessor allows integration with the graphics engine inside Anbox.">GraphicsProcessor</a> allows integration with the graphics engine inside Anbox.  
 <a href="classanbox_1_1GraphicsProcessor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for anbox::GraphicsProcessor:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classanbox_1_1GraphicsProcessor__coll__graph.png" border="0" usemap="#aanbox_1_1GraphicsProcessor_coll__map" alt="Collaboration graph"/></div>
<map name="aanbox_1_1GraphicsProcessor_coll__map" id="aanbox_1_1GraphicsProcessor_coll__map">
<area shape="rect" title="GraphicsProcessor allows integration with the graphics engine inside Anbox." alt="" coords="5,5,224,288"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6d095b313e234a75405842423b32eeef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a6d095b313e234a75405842423b32eeef">GraphicsProcessor</a> ()=default</td></tr>
<tr class="separator:a6d095b313e234a75405842423b32eeef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06ae885167a23ee22c50beb6e1f20d7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#ae06ae885167a23ee22c50beb6e1f20d7">~GraphicsProcessor</a> ()=default</td></tr>
<tr class="separator:ae06ae885167a23ee22c50beb6e1f20d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4506a8c508e9e2305cebaa71421d9c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#ac4506a8c508e9e2305cebaa71421d9c1">GraphicsProcessor</a> (const <a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a> &amp;)=delete</td></tr>
<tr class="separator:ac4506a8c508e9e2305cebaa71421d9c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319661e5be57a4d77c075a62ffb52880"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a319661e5be57a4d77c075a62ffb52880">operator=</a> (const <a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a> &amp;)=delete</td></tr>
<tr class="separator:a319661e5be57a4d77c075a62ffb52880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e55a1016837d1479a2931e7b2c2b719"><td class="memItemLeft" align="right" valign="top">virtual EGLDisplay&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a4e55a1016837d1479a2931e7b2c2b719">create_display</a> ()</td></tr>
<tr class="memdesc:a4e55a1016837d1479a2931e7b2c2b719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an EGL display.  <a href="classanbox_1_1GraphicsProcessor.html#a4e55a1016837d1479a2931e7b2c2b719">More...</a><br /></td></tr>
<tr class="separator:a4e55a1016837d1479a2931e7b2c2b719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcea3c95c981a93e3fff222cb2043019"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#abcea3c95c981a93e3fff222cb2043019">initialize</a> (<a class="el" href="structAnboxGraphicsConfiguration.html">AnboxGraphicsConfiguration</a> *configuration)</td></tr>
<tr class="memdesc:abcea3c95c981a93e3fff222cb2043019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the graphics processor.  <a href="classanbox_1_1GraphicsProcessor.html#abcea3c95c981a93e3fff222cb2043019">More...</a><br /></td></tr>
<tr class="separator:abcea3c95c981a93e3fff222cb2043019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e36406f5f12623490d52dee6ae46be"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a86e36406f5f12623490d52dee6ae46be">begin_frame</a> ()</td></tr>
<tr class="memdesc:a86e36406f5f12623490d52dee6ae46be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from Anbox when a new frame is started.  <a href="classanbox_1_1GraphicsProcessor.html#a86e36406f5f12623490d52dee6ae46be">More...</a><br /></td></tr>
<tr class="separator:a86e36406f5f12623490d52dee6ae46be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19aff292101d04ba4cfc8fd7749003c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#aa19aff292101d04ba4cfc8fd7749003c">finish_frame</a> ()</td></tr>
<tr class="memdesc:aa19aff292101d04ba4cfc8fd7749003c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from Anbox when a frame was fully rendered.  <a href="classanbox_1_1GraphicsProcessor.html#aa19aff292101d04ba4cfc8fd7749003c">More...</a><br /></td></tr>
<tr class="separator:aa19aff292101d04ba4cfc8fd7749003c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5c953b99b75f31f2e6c0d185c23ca0"><td class="memItemLeft" align="right" valign="top">virtual EGLSurface&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a4d5c953b99b75f31f2e6c0d185c23ca0">create_offscreen_surface</a> (EGLDisplay display, EGLConfig config, const EGLint *attribs)</td></tr>
<tr class="memdesc:a4d5c953b99b75f31f2e6c0d185c23ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an offscreen EGL surface for the given display, configuration and attributes.  <a href="classanbox_1_1GraphicsProcessor.html#a4d5c953b99b75f31f2e6c0d185c23ca0">More...</a><br /></td></tr>
<tr class="separator:a4d5c953b99b75f31f2e6c0d185c23ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104f313b0f08d6ea96f7efb5b44d5447"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a104f313b0f08d6ea96f7efb5b44d5447">destroy_offscreen_surface</a> (EGLDisplay display, EGLSurface surface)</td></tr>
<tr class="separator:a104f313b0f08d6ea96f7efb5b44d5447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac796f7d8812c19e8528bdde7754892ac"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#ac796f7d8812c19e8528bdde7754892ac">present</a> (<a class="el" href="structAnboxGraphicsBuffer.html">AnboxGraphicsBuffer</a> *buffer, <a class="el" href="structAnboxCallback.html">AnboxCallback</a> *callback)</td></tr>
<tr class="memdesc:ac796f7d8812c19e8528bdde7754892ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Present the given buffer to a display or other output.  <a href="classanbox_1_1GraphicsProcessor.html#ac796f7d8812c19e8528bdde7754892ac">More...</a><br /></td></tr>
<tr class="separator:ac796f7d8812c19e8528bdde7754892ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee96e86683ca845ef6df9817e982336"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a1ee96e86683ca845ef6df9817e982336">present</a> (<a class="el" href="structAnboxGraphicsBuffer2.html">AnboxGraphicsBuffer2</a> *buffer, <a class="el" href="structAnboxCallback.html">AnboxCallback</a> *callback)</td></tr>
<tr class="memdesc:a1ee96e86683ca845ef6df9817e982336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Present the given buffer to a display or other output.  <a href="classanbox_1_1GraphicsProcessor.html#a1ee96e86683ca845ef6df9817e982336">More...</a><br /></td></tr>
<tr class="separator:a1ee96e86683ca845ef6df9817e982336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87713a66bf61c032230d549ed7443c74"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a87713a66bf61c032230d549ed7443c74">create_buffer</a> (uint32_t width, uint32_t height, uint32_t format, uint32_t usage, <a class="el" href="structAnboxGraphicsBuffer2.html">AnboxGraphicsBuffer2</a> **buffer)</td></tr>
<tr class="memdesc:a87713a66bf61c032230d549ed7443c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a buffer with the given specifications.  <a href="classanbox_1_1GraphicsProcessor.html#a87713a66bf61c032230d549ed7443c74">More...</a><br /></td></tr>
<tr class="separator:a87713a66bf61c032230d549ed7443c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2ec06a49dea00d5ae802385f50f88c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a8b2ec06a49dea00d5ae802385f50f88c">set_vsync_callback</a> (const <a class="el" href="graphics__processor_8h.html#a346dae10de6e119625df318273410391">AnboxVsyncCallback</a> &amp;callback, void *user_data)</td></tr>
<tr class="memdesc:a8b2ec06a49dea00d5ae802385f50f88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback which will be invoked whenever a new vsync is about to start.  <a href="classanbox_1_1GraphicsProcessor.html#a8b2ec06a49dea00d5ae802385f50f88c">More...</a><br /></td></tr>
<tr class="separator:a8b2ec06a49dea00d5ae802385f50f88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7870d668b6ad2f913a8a972ddbbeba2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanbox_1_1GraphicsProcessor.html#a7870d668b6ad2f913a8a972ddbbeba2a">signal_vsync</a> (uint64_t time_ns)</td></tr>
<tr class="separator:a7870d668b6ad2f913a8a972ddbbeba2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classanbox_1_1GraphicsProcessor.html" title="GraphicsProcessor allows integration with the graphics engine inside Anbox.">GraphicsProcessor</a> allows integration with the graphics engine inside Anbox. </p>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00036">36</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6d095b313e234a75405842423b32eeef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d095b313e234a75405842423b32eeef">&#9670;&nbsp;</a></span>GraphicsProcessor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anbox::GraphicsProcessor::GraphicsProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae06ae885167a23ee22c50beb6e1f20d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae06ae885167a23ee22c50beb6e1f20d7">&#9670;&nbsp;</a></span>~GraphicsProcessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual anbox::GraphicsProcessor::~GraphicsProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4506a8c508e9e2305cebaa71421d9c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4506a8c508e9e2305cebaa71421d9c1">&#9670;&nbsp;</a></span>GraphicsProcessor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anbox::GraphicsProcessor::GraphicsProcessor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a86e36406f5f12623490d52dee6ae46be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86e36406f5f12623490d52dee6ae46be">&#9670;&nbsp;</a></span>begin_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void anbox::GraphicsProcessor::begin_frame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called from Anbox when a new frame is started. </p>
<p>This function is called by Anbox from its render thread after the call to eglMakeCurrent to make the main rendering surface and context current. Any operation performed should be as fast as possible to not delay the frame for too long. </p>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00078">78</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a87713a66bf61c032230d549ed7443c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87713a66bf61c032230d549ed7443c74">&#9670;&nbsp;</a></span>create_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool anbox::GraphicsProcessor::create_buffer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>usage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAnboxGraphicsBuffer2.html">AnboxGraphicsBuffer2</a> **&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a buffer with the given specifications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Width of the buffer in pixels </td></tr>
    <tr><td class="paramname">height</td><td>Height of the buffer in pixels </td></tr>
    <tr><td class="paramname">format</td><td>Color format of the buffer. See AnboxGraphicsBufferPixelFormat </td></tr>
    <tr><td class="paramname">usage</td><td>Usage flags of the buffer. See AnboxGraphicsBufferUsage </td></tr>
    <tr><td class="paramname">buffer</td><td>Allocated buffer object. See <a class="el" href="structAnboxGraphicsBuffer2.html" title="Graphics buffer.">AnboxGraphicsBuffer2</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the buffer was successfully created, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00207">207</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a4e55a1016837d1479a2931e7b2c2b719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e55a1016837d1479a2931e7b2c2b719">&#9670;&nbsp;</a></span>create_display()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGLDisplay anbox::GraphicsProcessor::create_display </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an EGL display. </p>
<p>This function is called by Anbox when it initializes the rendering pipeline to create an EGLDisplay to use for rendering. In case that a platform provides no implementation or EGL_NO_DISPLAY is returned Anbox will use EGL_DEFAULT_DISPLAY to create an EGLDisplay</p>
<dl class="section return"><dt>Returns</dt><dd>EGLDisplay A valid EGLDisplay or EGL_NO_DISPLAY </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00053">53</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a4d5c953b99b75f31f2e6c0d185c23ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5c953b99b75f31f2e6c0d185c23ca0">&#9670;&nbsp;</a></span>create_offscreen_surface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGLSurface anbox::GraphicsProcessor::create_offscreen_surface </td>
          <td>(</td>
          <td class="paramtype">EGLDisplay&#160;</td>
          <td class="paramname"><em>display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGLConfig&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const EGLint *&#160;</td>
          <td class="paramname"><em>attribs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an offscreen EGL surface for the given display, configuration and attributes. </p>
<p>If not implemented Anbox will use eglCreatePbufferSurface as fallback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">display</td><td>EGL display to create the surface for </td></tr>
    <tr><td class="paramname">config</td><td>EGL configuration to create the surface for </td></tr>
    <tr><td class="paramname">attribs</td><td>Attributes to used for the surface creation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Created EGLSurface or EGL_NO_SURFACE on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00100">100</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a104f313b0f08d6ea96f7efb5b44d5447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a104f313b0f08d6ea96f7efb5b44d5447">&#9670;&nbsp;</a></span>destroy_offscreen_surface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool anbox::GraphicsProcessor::destroy_offscreen_surface </td>
          <td>(</td>
          <td class="paramtype">EGLDisplay&#160;</td>
          <td class="paramname"><em>display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGLSurface&#160;</td>
          <td class="paramname"><em>surface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy a surface created with create_offscreen_surface.</p>
<p>If not implemented Anbox will use eglDestroySurface as fallback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">display</td><td>EGL display the surface was created for </td></tr>
    <tr><td class="paramname">surface</td><td>EGL surface to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if the surface is successfully destroyed and false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00116">116</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="aa19aff292101d04ba4cfc8fd7749003c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa19aff292101d04ba4cfc8fd7749003c">&#9670;&nbsp;</a></span>finish_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void anbox::GraphicsProcessor::finish_frame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called from Anbox when a frame was fully rendered. </p>
<p>This function is called by Anbox from its render thread before its calling eglSwapBuffers on the main EGL surface. Any operation performed should be as fast as possible to not delay the frame for too long. </p>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00087">87</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="abcea3c95c981a93e3fff222cb2043019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcea3c95c981a93e3fff222cb2043019">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int anbox::GraphicsProcessor::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAnboxGraphicsConfiguration.html">AnboxGraphicsConfiguration</a> *&#160;</td>
          <td class="paramname"><em>configuration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the graphics processor. </p>
<p>This function is called by Anbox when the rendering pipeline is initialized. The configuration structure is provided from Anbox and has to be filled out by the platform. Anbox initializes the provided structure with its defaults.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configuration</td><td>Configuration initialized with default values from Anbox </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00065">65</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a319661e5be57a4d77c075a62ffb52880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319661e5be57a4d77c075a62ffb52880">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a>&amp; anbox::GraphicsProcessor::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac796f7d8812c19e8528bdde7754892ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac796f7d8812c19e8528bdde7754892ac">&#9670;&nbsp;</a></span>present() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool anbox::GraphicsProcessor::present </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAnboxGraphicsBuffer.html">AnboxGraphicsBuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAnboxCallback.html">AnboxCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Present the given buffer to a display or other output. </p>
<p>DEPRECATED: This variant of the <a class="el" href="classanbox_1_1GraphicsProcessor.html#ac796f7d8812c19e8528bdde7754892ac" title="Present the given buffer to a display or other output.">present</a> method is deprecated and should no longer be used. Instead use the variant which takes the <a class="el" href="structAnboxGraphicsBuffer2.html" title="Graphics buffer.">AnboxGraphicsBuffer2</a> structure.</p>
<p>Used when graphics implementation is ANBOX_GRAPHICS_IMPLEMENTATION_TYPE_DIRECT_RENDERING or ANBOX_GRAPHICS_IMPLEMENTATION_TYPE_HOST_RENDERING</p>
<p>This method will be called by Anbox when Android has submitted a new buffer to be presented on the output managed by the platform. The buffer contains information about dimension, format and the handle to the buffer itself.</p>
<p>The buffer handle is opaque to Anbox and it's up to the platform to map it to something which it can handle. For all GPUs the handle is a file descriptor of a DMA buffer (see <a href="https://www.kernel.org/doc/html/latest/driver-api/dma-buf.html">https://www.kernel.org/doc/html/latest/driver-api/dma-buf.html</a>) which can imported into APIs like EGL or Vulkan for further processing. For software rendering the handle is a memfd (<a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html">https://man7.org/linux/man-pages/man2/memfd_create.2.html</a>) pointing to a shared memory region containing the buffer data.</p>
<p>When the platform has finished presenting the buffer it has to call the provided callback in order to return the buffer to Anbox for reuse. Not returning the buffer will cause the rendering pipeline to become stuck.</p>
<p>If <a class="el" href="classanbox_1_1GraphicsProcessor.html#ac796f7d8812c19e8528bdde7754892ac" title="Present the given buffer to a display or other output.">present</a> returns false it is expected that #callback is not called by the implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to be presented on the output </td></tr>
    <tr><td class="paramname">callback</td><td>A callback to be called by the platform when the buffer has been presented </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the buffer was accepted for presentation, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00154">154</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a1ee96e86683ca845ef6df9817e982336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee96e86683ca845ef6df9817e982336">&#9670;&nbsp;</a></span>present() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool anbox::GraphicsProcessor::present </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAnboxGraphicsBuffer2.html">AnboxGraphicsBuffer2</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAnboxCallback.html">AnboxCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Present the given buffer to a display or other output. </p>
<p>Used when graphics implementation is ANBOX_GRAPHICS_IMPLEMENTATION_TYPE_DIRECT_RENDERING or ANBOX_GRAPHICS_IMPLEMENTATION_TYPE_HOST_RENDERING</p>
<p>This method will be called by Anbox when Android has submitted a new buffer to be presented on the output managed by the platform. The buffer contains information about dimension, format and the handle to the buffer itself.</p>
<p>The buffer handle is opaque to Anbox and it's up to the platform to map it to something which it can handle. For all GPUs the handle is a file descriptor of a DMA buffer (see <a href="https://www.kernel.org/doc/html/latest/driver-api/dma-buf.html">https://www.kernel.org/doc/html/latest/driver-api/dma-buf.html</a>) which can imported into APIs like EGL or Vulkan for further processing. For software rendering the handle is a memfd (<a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html">https://man7.org/linux/man-pages/man2/memfd_create.2.html</a>) pointing to a shared memory region containing the buffer data.</p>
<p>Passed buffer objects are reused by the caller so the given address for the <a class="el" href="structAnboxGraphicsBuffer2.html" title="Graphics buffer.">AnboxGraphicsBuffer2</a> can be used as identifier for cache implementations.</p>
<p>When the platform has finished presenting the buffer it has to call the provided callback in order to return the buffer to Anbox for reuse. Not returning the buffer will cause the rendering pipeline to become stuck.</p>
<p>If <a class="el" href="classanbox_1_1GraphicsProcessor.html#ac796f7d8812c19e8528bdde7754892ac" title="Present the given buffer to a display or other output.">present</a> returns false it is expected that #callback is not called by the implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to be presented on the output </td></tr>
    <tr><td class="paramname">callback</td><td>A callback to be called by the platform when the buffer has been presented </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the buffer was accepted for presentation, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00191">191</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a8b2ec06a49dea00d5ae802385f50f88c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2ec06a49dea00d5ae802385f50f88c">&#9670;&nbsp;</a></span>set_vsync_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void anbox::GraphicsProcessor::set_vsync_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="graphics__processor_8h.html#a346dae10de6e119625df318273410391">AnboxVsyncCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a callback which will be invoked whenever a new vsync is about to start. </p>
<p>With the start of a vsync the previous frame will no longer be visible on the output and a new one will be shown instead. The callback allows an external client to synchronize to the internal vsync of the platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Callback to set </td></tr>
    <tr><td class="paramname">user_data</td><td>User data to be handed back with the callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00228">228</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<a id="a7870d668b6ad2f913a8a972ddbbeba2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7870d668b6ad2f913a8a972ddbbeba2a">&#9670;&nbsp;</a></span>signal_vsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void anbox::GraphicsProcessor::signal_vsync </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time_ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="graphics__processor_8h_source.html#l00235">235</a> of file <a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="graphics__processor_8h_source.html">graphics_processor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceanbox.html">anbox</a></li><li class="navelem"><a class="el" href="classanbox_1_1GraphicsProcessor.html">GraphicsProcessor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
